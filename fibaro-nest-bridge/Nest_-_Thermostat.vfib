{"name":"Nest - Thermostat","type":"virtual_device","properties":{"deviceIcon":1029,"categories":"[\"climate\"]","currentIcon":"0","log":"","logTemp":"","mainLoop":"","ui.mode.value":"Heat","ui.setpoint.value":"18 °C","visible":"true","rows":[{"type":"label","elements":[{"id":1,"lua":false,"waitForResponse":false,"caption":"Setpoint","name":"setpoint","favourite":true,"main":true}]},{"type":"label","elements":[{"id":2,"lua":false,"waitForResponse":false,"caption":"mode","name":"mode","favourite":false,"main":false}]},{"type":"button","elements":[{"id":3,"lua":true,"waitForResponse":false,"caption":"-","name":"down","empty":false,"msg":"local device = fibaro:getSelfId()\n\nlocal currentSetpoint = fibaro:getValue(device, \"ui.setpoint.value\")\ncurrentSetpoint = currentSetpoint:gsub(\" °C\", \"\")\n\nlocal desiredSetpoint = tonumber(currentSetpoint) - 0.5\n\nfibaro:call(device, \"setProperty\", \"ui.setpoint.value\", desiredSetpoint .. \" °C\")\nfibaro.log(\"Set setpoint to \" .. desiredSetpoint .. \" °C\")","buttonIcon":0,"favourite":false,"main":false},{"id":4,"lua":true,"waitForResponse":false,"caption":"+","name":"up","empty":false,"msg":"local device = fibaro:getSelfId()\n\nlocal currentSetpoint = fibaro:getValue(device, \"ui.setpoint.value\")\ncurrentSetpoint = currentSetpoint:gsub(\" °C\", \"\")\n\nlocal desiredSetpoint = tonumber(currentSetpoint) + 0.5\n\nfibaro:call(device, \"setProperty\", \"ui.setpoint.value\", desiredSetpoint .. \" °C\")\nfibaro.log(\"Set setpoint to \" .. desiredSetpoint .. \" °C\")","buttonIcon":0,"favourite":false,"main":false}]},{"type":"button","elements":[{"id":5,"lua":true,"waitForResponse":false,"caption":"off","name":"off","empty":false,"msg":"local device = fibaro:getSelfId()\nfibaro:call(device, \"setProperty\", \"ui.mode.value\", \"Off\")\nfibaro.log(\"Set Nest mode to [OFF]\")","buttonIcon":0,"favourite":false,"main":false},{"id":6,"lua":true,"waitForResponse":false,"caption":"eco","name":"eco","empty":false,"msg":"local device = fibaro:getSelfId()\nfibaro:call(device, \"setProperty\", \"ui.mode.value\", \"Eco\")\nfibaro.log(\"Set Nest mode to [ECO]\")","buttonIcon":0,"favourite":false,"main":false},{"id":7,"lua":true,"waitForResponse":false,"caption":"heat","name":"heat","empty":false,"msg":"local device = fibaro:getSelfId()\nfibaro:call(device, \"setProperty\", \"ui.mode.value\", \"Heat\")\nfibaro.log(\"Set Nest mode to [HEAT]\")","buttonIcon":0,"favourite":false,"main":false}]}]},"actions":{"pressButton":1,"setSlider":2,"setProperty":2}}